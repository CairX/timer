<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Timer</title>

        <link href="style.css" type="text/css" rel="stylesheet" />
        <script src="timer.js"></script>
    </head>
    <body>
        <div id="time">00:00:00</div>
        <script>
            var time = document.getElementById('time');
            var timer = new Timer();

            window.onkeypress = function(event) {
                console.log(event);
                if (event.charCode == 32) {
                    console.log('Running: ' + timer.running());
                    if (timer.running()) {
                        timer.stop();
                        console.log('STOP!');
                    } else {
                        timer.start();
                        window.setInterval(update, 10);
                    }
                }
            };

            function update() {
                time.innerHTML = TimeFormatter.format(timer.time(), '%%M:%S:%h');
            };
        </script>
    </body>
</html>